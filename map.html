<!DOCTYPE html>
<html>

<head>
	<meta charset='utf-8' />
	<title>Owen Lamb | Places</title>
	<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
	<script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.43.0/mapbox-gl.js'></script>
	<link href='style.css' rel='stylesheet' />
	<link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.43.0/mapbox-gl.css' rel='stylesheet' />
	<style>
		body {
			margin: 0;
			padding: 0;
		}
		#map {
			position: absolute;
			top: 0;
			bottom: 0;
			width: 100%;
		}
		.header {
			position: absolute;
			top: 0;
			width: 100%;
			height: 40px;
			overflow: auto;
			background-color: #000;
			z-index: 100;
			color: #FFF;
		}
		.title {
			position: relative;
			width: 200px;
			text-align: center;
			top: 10px;
			padding-left: 50px;
			margin-top: 10px;
			font-weight: bolder;
			font-size: 16;
		}


	</style>
</head>

<body>
	<div class="header"><span class="title">Owen Lamb | My Places</span></div>
	<div id='map'></div>
	<script>
	mapboxgl.accessToken =
  "pk.eyJ1IjoicmVkem9uZXNvZnR3YXJlIiwiYSI6IkNKNXhPNkUifQ.yPI1bZL3nEvDFbdQjeTB-A";
var map = new mapboxgl.Map({
  container: "map", // container id
  style: "mapbox://styles/mapbox/dark-v9", // stylesheet location
  center: [-43.916023, 42.716928],
  zoom: 2 // starting zoom
});
map.on("load", function() {
  map.addLayer(
    {
      id: "points-heat",
      type: "heatmap",
      source: {
        type: "geojson",
        data: "./data/locations.json"
      },
      maxzoom: 15,
      paint: {
        // increase weight as diameter breast height increases
        "heatmap-weight": {
          property: "dbh",
          type: "exponential",
          stops: [[1, 0], [62, 1]]
        },
        // increase intensity as zoom level increases
        "heatmap-intensity": {
          stops: [[11, 1], [15, 3]]
        },
        // assign color values be applied to points depending on their density
        "heatmap-color": [
          "interpolate",
          ["linear"],
          ["heatmap-density"],
          0,
          "rgba(236,222,239,0)",
          0.2,
          "rgb(208,209,230)",
          0.4,
          "rgb(166,189,219)",
          0.6,
          "rgb(103,169,207)",
          0.8,
          "rgb(28,144,153)"
        ],
        // increase radius as zoom increases
        "heatmap-radius": {
          stops: [[11, 15], [15, 20]]
        },
        // decrease opacity to transition into the circle layer
        "heatmap-opacity": {
          default: 1,
          stops: [[14, 1], [15, 0]]
        }
      }
    },
    "waterway-label"
  );
  map.addLayer({
    id: "points",
    type: "circle",
    minzoom: 14,
    source: {
      type: "geojson",
      data: "./data/locations.json"
    },
    paint: {
      "circle-color": "rgb(28,144,153)",
      "circle-stroke-width": 1,
      "circle-stroke-color": "#fff",
      "circle-radius": 3
    }
  });
});
</script>

</body>

</html>
